
 
## بخش 1:تشخیص زیرمسائل و الگوها
 ۱. زیرمسئله اول: مدیریت وضعیت‌های تیکت
شرح مختصر:
سیستم مدیریت تیکت دارای ۵ وضعیت اصلی است: NEW، ASSIGNED، IN_PROGRESS، RESOLVED و CLOSED. رفتار سیستم در هر وضعیت کاملاً متفاوت است. در کد فعلی، این وضعیت‌ها با رشته‌های سخت‌کد شده و زنجیره‌ای از دستورات if-else مدیریت می‌شوند که منجر به کد پیچیده و غیرقابل نگهداری شده است.

پیشنهاد الگو: State Pattern

دلیل انتخاب:

رفتار سیستم به شدت وابسته به حالت فعلی تیکت است.

هر حالت منطق پردازش خاص خود را دارد.

نیاز به حذف شرط‌های پیچیده if-else

امکان اضافه کردن حالت‌های جدید بدون تغییر کد موجود.

رعایت اصل Single Responsibility Principle (SRP)

روش اعمال الگو:

ایجاد اینترفیس TicketState با متدهای:

handle(TicketContext context, String channel, String type): پردازش رفتار حالت

getName(): بازگرداندن نام حالت

پیاده‌سازی ۵ کلاس حالت:

NewState: مسئول ایجاد تیکت و پردازش کانال ورودی

AssignedState: مسئول ارجاع تیکت به واحد مربوطه

InProgressState: مسئول پردازش تیکت و ارسال پاسخ

ResolvedState: مسئول اعلام حل شدن تیکت

ClosedState: مسئول بستن تیکت

ایجاد کلاس TicketContext که:

وضعیت فعلی را نگهداری می‌کند.

متد setState(TicketState state) برای تغییر حالت.

متد handle(String channel, String type) برای واگذاری پردازش به حالت فعلی.

۲. زیرمسئله دوم: پردازش کانال‌های ورودی مختلف

 سیستم باید از کانال‌های مختلفی مانند WEB و EMAIL درخواست دریافت کند. در کد فعلی، منطق پردازش هر کانال در داخل حالت NewState با دستورات if-else پیاده‌سازی شده است که منجر به درهم‌آمیختگی مسئولیت‌ها می‌شود.

پیشنهاد الگو: Strategy Pattern

دلیل انتخاب:

هر کانال الگوریتم پردازش خاص خود را دارد (فقط نمایش پیام متفاوت).

امکان افزودن کانال‌های جدید (مانند SMS) بدون تغییر کلاس‌های حالت.

جداسازی منطق کانال از منطق مدیریت حالت.

قابلیت تعویض استراتژی در زمان اجرا.

رعایت اصل Open/Closed Principle

روش اعمال الگو:

ایجاد اینترفیس ChannelStrategy با متد:

process(): نمایش پیام مناسب برای کانال

پیاده‌سازی کلاس‌های استراتژی:

WebChannelStrategy: چاپ پیام "Received from web"

EmailChannelStrategy: چاپ پیام "Received from email"

تغییر کلاس NewState برای استفاده از استراتژی مناسب به جای if-else

۳. زیرمسئله سوم: پردازش انواع مختلف تیکت

تیکت‌ها انواع مختلفی دارند (مانند BUG و GENERAL). هر نوع تیکت:

به واحد سازمانی متفاوتی ارجاع داده می‌شود.

پاسخ متفاوتی دریافت می‌کند.
این منطق در حالت‌های AssignedState و InProgressState تکرار شده است.

پیشنهاد الگو: Strategy Pattern

دلیل انتخاب:

هر نوع تیکت الگوریتم ارجاع و پاسخ‌دهی خاص خود را دارد.

استفاده مجدد از استراتژی در چندین حالت مختلف.

امکان افزودن انواع جدید تیکت بدون تغییر کلاس‌های حالت.

جداسازی منطق نوع تیکت از منطق مدیریت حالت.

کاهش duplication در کد.

روش اعمال الگو:

ایجاد اینترفیس TypeStrategy با متدهای:

assignHandler(): تعیین و نمایش واحد مسئول

sendResponse(): ارسال و نمایش پاسخ مناسب

پیاده‌سازی کلاس‌های استراتژی:

BugTypeStrategy: ارجاع به "engineering" و پاسخ "bug response"

GeneralTypeStrategy: ارجاع به "support" و پاسخ "generic response"

تغییر کلاس‌های AssignedState و InProgressState برای استفاده از استراتژی مناسب.

۴. زیرمسئله چهارم: ایجاد اشیاء استراتژی

پس از اعمال Strategy Pattern، کلاس‌های حالت نیاز به ایجاد استراتژی‌های مناسب براساس پارامترهای ورودی دارند. ایجاد مستقیم این استراتژی‌ها در داخل حالت‌ها منجر به وابستگی زیاد و نقض اصل Dependency Inversion می‌شود.

پیشنهاد الگو: Factory Pattern

دلیل انتخاب:

کپسوله کردن منطق ایجاد اشیاء استراتژی

کاهش وابستگی کلاس‌های حالت به کلاس‌های concrete strategy

متمرکز کردن نقطه تغییر در صورت اضافه شدن استراتژی‌های جدید

امکان تغییر نحوه ایجاد استراتژی‌ها بدون تأثیر بر مصرف‌کنندگان

رعایت اصل Single Responsibility Principle

روش اعمال الگو:

ایجاد کلاس StrategyFactory با متدهای:

createChannelStrategy(String channel): ایجاد استراتژی کانال مناسب

createTypeStrategy(String type): ایجاد استراتژی نوع تیکت مناسب

تغییر کلاس‌های حالت برای دریافت استراتژی از Factory به جای ایجاد مستقیم.

## بخش ۲: ترسیم نمودار کلاس (Class Diagram)

در این بخش، ساختار نهایی سیستم پس از بازطراحی و اعمال الگوهای طراحی نمایش داده شده است. این نمودار نشان‌دهنده چگونگی جداسازی دغدغه‌ها و برقراری ارتباط بین اجزای مختلف سیستم است.

![Class Diagram](./project%20ood2/class-diagram.png)
![Uploading image.png…]()



